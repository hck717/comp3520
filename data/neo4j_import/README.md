# Neo4j Import Files

This folder contains normalized CSV files optimized for Neo4j `LOAD CSV` commands.

## Files Generated

- `entities.csv` - All buyers, sellers, banks (deduplicated)
- `ports.csv` - Port information
- `letter_of_credits.csv` - LC nodes
- `commercial_invoices.csv` - Invoice nodes
- `bills_of_lading.csv` - B/L nodes
- `packing_lists.csv` - Packing list nodes
- `shipments.csv` - Shipment tracking nodes
- `sanctions.csv` - Sanctions entity nodes
- `relationships.csv` - Edge definitions

## Generated By

```bash
python src/data_generation/prepare_neo4j_import.py
```

## Import to Neo4j

After generating these files, use the ingestion script:

```bash
python src/ingest_realtime.py
```

Or manually import using Cypher:

```cypher
// Load entities
LOAD CSV WITH HEADERS FROM 'file:///entities.csv' AS row
MERGE (e:Entity {id: row.entity_id})
SET e.name = row.name,
    e.type = row.type,
    e.country = row.country;

// Load LCs
LOAD CSV WITH HEADERS FROM 'file:///letter_of_credits.csv' AS row
CREATE (lc:LetterOfCredit {
  lc_number: row.lc_number,
  issue_date: date(row.issue_date),
  amount: toFloat(row.amount),
  currency: row.currency
});
```

## File Format Notes

- **Encoding**: UTF-8
- **Delimiter**: Comma (,)
- **Quote Character**: Double quote (")
- **Date Format**: ISO 8601 (YYYY-MM-DD)
- **Null Values**: Empty string or "NULL"
