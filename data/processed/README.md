# Processed Data

This folder contains enriched and generated trade finance data ready for Neo4j ingestion.

## Generated Files

### Sanctions Lists
- `sanctions_ofac.csv` - OFAC SDN (Specially Designated Nationals) format
- `sanctions_un.csv` - UN Security Council sanctions format
- `sanctions_eu.csv` - EU Financial Sanctions File format
- `sanctions_all.csv` - Combined list (200 synthetic entities)

**Generated by**: `src/data_generation/generate_sanctions_list.py`

**Schema**:
```
sanction_id       : Unique identifier (e.g., OFAC_10001)
name              : Entity name (company/individual/vessel)
aliases           : Alternative names (pipe-separated)
list_type         : OFAC_SDN | UN_SC | EU_FSF
country           : Country of origin
program           : Sanctions program (IRAN, DPRK, RUSSIA, etc.)
entity_type       : Company | Individual | Vessel | Aircraft
added_date        : Date added to list
id_number         : Government ID number
remarks           : Additional notes
```

### Trade Finance Transactions
- `transactions.csv` - Complete trade finance records (1,000 transactions)

**Generated by**: `src/data_generation/enrich_transactions.py`

**Schema**:
```
# Transaction Metadata
transaction_id    : Unique transaction ID

# Entities
buyer_id, buyer_name, buyer_country
seller_id, seller_name, seller_country
bank_id, bank_name

# Letter of Credit (LC)
lc_number         : LC reference number
lc_issue_date     : When LC was issued
lc_expiry_date    : LC expiration date
lc_amount         : LC amount
lc_currency       : Currency code
commodity         : Product description
incoterms         : FOB | CIF | CFR | EXW
latest_ship_date  : Latest allowed shipment date

# Commercial Invoice
invoice_number    : Invoice reference
invoice_amount    : Invoice total (may differ from LC amount)
invoice_date      : Invoice issue date

# Bill of Lading (B/L)
bl_number         : B/L reference
shipment_date     : Actual shipment date
port_of_loading   : Origin port
port_of_discharge : Destination port
vessel_name       : Ship name

# Packing List
packing_list_number : Packing list reference
total_packages      : Number of packages
gross_weight_kg     : Total weight

# Risk Flags
amount_discrepancy : Boolean - Invoice amount differs from LC >10%
late_shipment      : Boolean - Shipped after latest_ship_date
fraud_flag         : Boolean - Known fraud indicator
```

## Data Quality

- **Total Transactions**: 1,000
- **Anomaly Rate**: ~15% (amount discrepancies + late shipments + fraud flags)
- **Sanctions Matches**: ~5% of entities match sanctions lists
- **Date Range**: Last 180 days from generation date
- **Amount Range**: $10,000 - $500,000 per transaction

## Regenerating Data

To regenerate all processed data:

```bash
# Step 1: Generate sanctions lists
python src/data_generation/generate_sanctions_list.py

# Step 2: Enrich transactions from Kaggle raw data
python src/data_generation/enrich_transactions.py
```

## Git Policy

⚠️ These processed CSV files are **excluded from git** (see `.gitignore`).

To share processed data:
1. Push scripts to GitHub (already done)
2. Team members run scripts locally to generate identical data (seeded random)
3. Alternatively, upload to cloud storage (Google Drive, S3) and share link

## Next Steps

After generating processed data:
1. Run `src/data_generation/prepare_neo4j_import.py` to create normalized CSVs
2. Use `src/ingest_realtime.py` to load into Neo4j
3. Verify with Cypher queries in Neo4j Browser
